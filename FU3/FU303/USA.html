<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore: USA (Pro V2)</title>
    
    <script src="https://cdn.staticfile.net/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.staticfile.net/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.staticfile.net/babel-standalone/7.22.17/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle-min.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&family=Fredoka:wght@500;600&family=Noto+Serif:ital,wght@0,500;1,500&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

    <style>
        /* ÂÖ®Â±ÄËÆæÁΩÆ */
        * { -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Outfit', sans-serif; 
            color: #f8fafc; 
            /* ÊòüÊù°ÊóóÊ∏êÂèòÔºöÊ∑±Ëìù -> Ëç£ËÄÄÁ∫¢ */
            background: linear-gradient(135deg, #0f172a, #1e3a8a, #991b1b, #7f1d1d);
            background-size: 400% 400%;
            animation: usaFlow 25s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        @keyframes usaFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .serif { font-family: 'Noto Serif', serif; }
        .mono { font-family: 'Space Grotesk', monospace; }
        .fun-font { font-family: 'Fredoka', sans-serif; }

        /* ‰∏ªÂÆπÂô® */
        .app-container {
            width: 95vw;
            max-width: 1400px;
            height: 90vh;
            background: rgba(15, 23, 42, 0.9); /* Ê∑±ËìùÂ∫ïËâ≤ */
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 32px;
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: row;
            overflow: hidden;
            position: relative;
        }
        
        /* ÁßªÂä®Á´ØÈÄÇÈÖç */
        @media (max-width: 768px) {
            .app-container { flex-direction: column; height: 100vh; width: 100vw; border-radius: 0; }
        }

        /* Âä®Áîª */
        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ÊªöÂä®Êù° */
        .custom-scroll { overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(56, 189, 248, 0.3) transparent; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(56, 189, 248, 0.3); border-radius: 10px; }

        /* ÊªëÂùó */
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 28px; width: 28px; border-radius: 50%;
            background: #ef4444; border: 4px solid white; cursor: pointer; margin-top: -12px;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.6); transition: transform 0.1s;
        }
        input[type=range]::-webkit-slider-thumb:active { transform: scale(1.2); }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; cursor: pointer; 
            background: rgba(255,255,255,0.2); border-radius: 10px;
        }

        /* Ê†áÁ≠æÊåâÈíÆ */
        .tab-btn {
            flex: 1; padding: 12px; border-radius: 12px; cursor: pointer; font-weight: 700; transition: all 0.2s;
            display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 0.9rem;
            background: rgba(255,255,255,0.1); color: #cbd5e1; border: 1px solid rgba(255,255,255,0.1);
        }
        .tab-btn:hover { background: rgba(255,255,255,0.2); color: white; }
        .tab-btn.active { background: #ef4444; color: white; border-color: #f87171; box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4); transform: translateY(-2px); }

        /* ËøîÂõûÊåâÈíÆ */
        .nav-back { 
            position: absolute; top: 24px; left: 24px; z-index: 50; 
            background: rgba(0,0,0,0.6); color: white; 
            padding: 10px 20px; border-radius: 99px; text-decoration: none; 
            backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.2); 
            font-weight: 600; font-size: 1rem;
            transition: all 0.2s; display: flex; align-items: center; gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .nav-back:hover { background: rgba(0,0,0,0.8); transform: scale(1.05); }
    </style>
</head>
<body>
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // üîπ Azure ËØ≠Èü≥ÈÖçÁΩÆ
        // ==========================================
        const azureKey = "DKRXk8ueSfo5NdIOMqFRTCAfpeGDezJ3Snf5K8gGgtyqxiWdugLzJQQJ99BLACHYHv6XJ3w3AAAYACOGUYP9";
        const azureRegion = "eastus2"; 
        
        let currentSynthesizer = null;

        const speak = (text, onComplete) => {
            if (currentSynthesizer) { currentSynthesizer.close(); currentSynthesizer = null; }
            if (!text) { if(onComplete) onComplete(); return; }
            
            try {
                const speechConfig = SpeechSDK.SpeechConfig.fromSubscription(azureKey, azureRegion);
                speechConfig.speechSynthesisVoiceName = "en-US-JennyNeural"; // ÁæéÈü≥
                const audioConfig = SpeechSDK.AudioConfig.fromDefaultSpeakerOutput();
                const synthesizer = new SpeechSDK.SpeechSynthesizer(speechConfig, audioConfig);
                currentSynthesizer = synthesizer;
                
                synthesizer.speakTextAsync(text, result => {
                    synthesizer.close(); currentSynthesizer = null;
                    if(onComplete) onComplete();
                }, err => { console.error(err); synthesizer.close(); currentSynthesizer = null; if(onComplete) onComplete(); });
            } catch (e) { console.error("Azure Error", e); if(onComplete) onComplete(); }
        };

        // ==========================================
        // üîπ Êï∞ÊçÆÈÖçÁΩÆ
        // ==========================================
        const DATA = {
            intro: "Welcome to the United States of America.",
            tabs: [
                { id: 'liberty', label: 'üóΩ Liberty', icon: 'ph-statue-of-liberty' },
                { id: 'goldengate', label: 'üåâ Bridge', icon: 'ph-bridge' },
                { id: 'learn', label: 'ü¶Ö Learn', icon: 'ph-student' }
            ],
            
            // ÊôØÁÇπ 1: Statue of Liberty
            liberty: {
                title: "Statue of Liberty",
                imgs: ["statue_liberty.jpg"], // ÊîØÊåÅÂ§öÂõæÔºåÁõÆÂâçÂçïÂõæ
                desc_en: "Standing on Liberty Island in New York Harbor, the Statue of Liberty was a gift from France in 1886. She holds a torch representing the light of freedom and a tablet inscribed with July 4, 1776.",
                desc_cn: "Ëá™Áî±Â•≥Á•ûÂÉèÁüóÁ´ãÂú®Á∫ΩÁ∫¶Ê∏ØÁöÑËá™Áî±Â≤õ‰∏äÔºåÊòØ1886Âπ¥Ê≥ïÂõΩËµ†ÈÄÅÁªôÁæéÂõΩÁöÑÁ§ºÁâ©„ÄÇÂ•πÊâãÊåÅË±°ÂæÅËá™Áî±‰πãÂÖâÁöÑÁÅ´ÁÇ¨ÂíåÂàªÊúâ1776Âπ¥7Êúà4Êó•ÁöÑÈì≠Êùø„ÄÇ"
            },
            
            // ÊôØÁÇπ 2: Golden Gate Bridge
            goldengate: {
                title: "Golden Gate Bridge",
                imgs: ["golden_gate.jpg"],
                desc_en: "Spanning 2.7 kilometers long with towers reaching 227 meters high, this engineering marvel connects San Francisco to the Pacific. Its famous 'International Orange' color makes it visible in the fog.",
                desc_cn: "ËøôÂ∫ßÂ∑•Á®ãÂ•áËøπÂÖ®Èïø2.7ÂÖ¨ÈáåÔºåÂ°îÈ´ò227Á±≥ÔºåËøûÊé•ÁùÄÊóßÈáëÂ±±‰∏éÂ§™Âπ≥Ê¥ã„ÄÇÂÖ∂ËëóÂêçÁöÑ‚ÄúÂõΩÈôÖÊ©ô‚ÄùËâ≤‰ΩøÂÖ∂Âú®ÊµìÈõæ‰∏≠‰æùÁÑ∂Ê∏ÖÊô∞ÂèØËßÅ„ÄÇ"
            },
            
            // ÊãºÂÜô & ÊñáÂåñ
            spelling: {
                word: "America",
                // A-m-e-r-i-c-a
                sounds: [
                    { char: "A", w: "w-10" }, { char: "m", w: "w-10" }, { char: "e", w: "w-10" },
                    { char: "r", w: "w-10" }, { char: "i", w: "w-10" }, { char: "c", w: "w-10" },
                    { char: "a", w: "w-10" }
                ],
                hint: "The Land of the Free"
            },
            
            culture: {
                title: "USA Facts",
                img: "usa_culture.jpg", // ÊÇ®ÁöÑÈÖçÂõæÊñá‰ª∂
                fact1_title: "The Bald Eagle",
                fact1_en: "The Bald Eagle is the national bird of the USA, chosen in 1782 for its strength, long life, and majestic appearance.",
                fact1_cn: "ÁôΩÂ§¥Êµ∑ÈõïÊòØÁæéÂõΩÁöÑÂõΩÈ∏üÔºå‰∫é1782Âπ¥Âõ†ÂÖ∂ÂäõÈáè„ÄÅÈïøÂØøÂíåÈõÑ‰ºüÁöÑÂ§ñË°®ËÄåË¢´ÈÄâ‰∏≠„ÄÇ",
                
                fact2_title: "50 Stars",
                fact2_en: "The US flag has 50 stars representing the 50 states, and 13 stripes representing the original 13 colonies.",
                fact2_cn: "ÁæéÂõΩÂõΩÊóó‰∏äÊúâ50È¢óÊòü‰ª£Ë°®50‰∏™Â∑ûÔºå13Êù°Êù°Á∫π‰ª£Ë°®ÊúÄÂàùÁöÑ13‰∏™ÊÆñÊ∞ëÂú∞„ÄÇ"
            }
        };

        // ==========================================
        // üîπ ÁªÑ‰ª∂Âå∫Âüü
        // ==========================================

        const App = () => {
            const [activeTab, setActiveTab] = useState('liberty');
            const [focusVal, setFocusVal] = useState(0);
            const [isUnlocked, setIsUnlocked] = useState(false);
            const [imgIdx, setImgIdx] = useState(0);

            useEffect(() => { setTimeout(() => speak(DATA.intro), 800); }, []);

            // ÂàáÊç¢Ê†áÁ≠æ
            const switchTab = (id) => {
                setActiveTab(id);
                setFocusVal(0);
                setIsUnlocked(false);
                setImgIdx(0);
                
                if (id === 'liberty' || id === 'goldengate') {
                    speak(`Let's visit ${DATA[id].title}. Adjust focus.`);
                } else {
                    speak("Now, let's learn about the country.");
                }
            };

            // Áõ∏Êú∫ÈÄªËæë
            const handleFocusChange = (val) => {
                setFocusVal(val);
                if (val > 90 && !isUnlocked) {
                    setIsUnlocked(true);
                    speak(`Awesome! This is the ${DATA[activeTab].title}.`);
                }
            };

            const changeImage = (dir) => {
                // ÁÆÄÂçïÁöÑÁîªÂªäÂàáÊç¢ÈÄªËæëÔºåÂÖºÂÆπ Learn Ê®°ÂºèÊó†ÂõæÊÉÖÂÜµ
                if (!DATA[activeTab].imgs) return;
                const total = DATA[activeTab].imgs.length;
                let next = imgIdx + dir;
                if (next >= total) next = 0;
                if (next < 0) next = total - 1;
                setImgIdx(next);
            };

            const blurAmount = Math.max(0, 20 - (focusVal / 5));

            return (
                <div className="app-container fade-in">
                    
                    {/* 1. Â∑¶‰æßÊòæÁ§∫Âå∫Âüü */}
                    <div className="flex-1 md:flex-[1.8] relative bg-black overflow-hidden border-b-4 md:border-b-0 md:border-r-4 border-red-900/50 group h-[40vh] md:h-auto">
                        <a href="FU303Main.html" className="nav-back">
                            <i className="ph ph-arrow-u-up-left text-xl"></i> Back to Map
                        </a>

                        <div className="w-full h-full overflow-hidden relative">
                            {activeTab === 'learn' ? (
                                // Learn Mode Image
                                <img src={DATA.culture.img} className="w-full h-full object-cover animate-[fadeIn_0.5s]" 
                                     onError={(e) => e.target.src = 'https://placehold.co/800x600/1e3a8a/ef4444?text=USA+Culture'} />
                            ) : (
                                // Camera View
                                <>
                                    {/* Gallery Arrows (Â¶ÇÊûúÊúâÂ§öÂº†Âõæ) */}
                                    {DATA[activeTab].imgs && DATA[activeTab].imgs.length > 1 && (
                                        <>
                                            <button onClick={(e) => { e.stopPropagation(); changeImage(-1); }} className="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-black/30 hover:bg-black/60 text-white flex items-center justify-center backdrop-blur-md z-30 transition border border-white/20 hover:scale-110"><i className="ph ph-caret-left text-2xl"></i></button>
                                            <button onClick={(e) => { e.stopPropagation(); changeImage(1); }} className="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-black/30 hover:bg-black/60 text-white flex items-center justify-center backdrop-blur-md z-30 transition border border-white/20 hover:scale-110"><i className="ph ph-caret-right text-2xl"></i></button>
                                        </>
                                    )}

                                    <img 
                                        key={`${activeTab}-${imgIdx}`} 
                                        src={DATA[activeTab].imgs[imgIdx]} 
                                        className="w-full h-full object-cover transition-all duration-500 transform scale-110"
                                        style={{ 
                                            filter: `blur(${blurAmount}px) brightness(${0.5 + (focusVal/200)})`,
                                            transform: `scale(${1.1 - (focusVal/1000)})` 
                                        }}
                                        onError={(e) => e.target.src = 'https://placehold.co/800x600/1e3a8a/ef4444?text=' + DATA[activeTab].title}
                                    />
                                    
                                    {!isUnlocked && <div className="absolute inset-0 bg-blue-900/20 mix-blend-overlay animate-pulse pointer-events-none"></div>}
                                    
                                    {/* Camera UI Overlay */}
                                    <div className="absolute inset-0 pointer-events-none p-8 flex flex-col justify-between z-10">
                                        <div className="flex justify-between items-start">
                                            <div className="text-red-500 font-mono font-bold animate-pulse flex items-center gap-3 bg-black/40 px-3 py-1 rounded backdrop-blur-sm">
                                                <div className="w-3 h-3 bg-red-500 rounded-full shadow-[0_0_10px_red]"></div> REC
                                            </div>
                                            <div className="text-white/80 font-mono text-sm flex flex-col items-end gap-1">
                                                <span>ISO 400</span> <span className="text-red-400">AF-C</span>
                                            </div>
                                        </div>
                                        
                                        <div className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ${!isUnlocked ? 'w-full h-full border-4 border-red-500/50' : 'w-64 h-48 border-2 border-white/30'}`}>
                                            {!isUnlocked ? (
                                                <>
                                                    <div className="absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-white"></div>
                                                    <div className="absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-white"></div>
                                                    <div className="absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-white"></div>
                                                    <div className="absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-white"></div>
                                                    <div className="w-2 h-2 bg-white/50 rounded-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
                                                </>
                                            ) : (
                                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-400 font-black tracking-widest text-3xl animate-ping opacity-50">LOCKED</div>
                                            )}
                                        </div>

                                        <div className="flex justify-between items-end text-white/60 font-mono text-sm">
                                            <div>USA</div>
                                            <div className={`${isUnlocked ? 'text-red-400 font-bold' : 'text-white'}`}>FOCUS: {focusVal}%</div>
                                        </div>
                                    </div>
                                </>
                            )}
                        </div>
                    </div>

                    {/* 2. Âè≥‰æßÔºöÊéßÂà∂Èù¢Êùø */}
                    <div className="flex-1 bg-slate-900/60 backdrop-blur-3xl border-l border-white/5 relative flex flex-col h-[60vh] md:h-auto overflow-hidden">
                        
                        {/* È°∂ÈÉ® Tabs */}
                        <div className="p-6 pb-0 flex gap-3 shrink-0 overflow-x-auto">
                            {DATA.tabs.map(tab => (
                                <button 
                                    key={tab.id}
                                    onClick={() => switchTab(tab.id)}
                                    className={`tab-btn ${activeTab === tab.id ? 'active' : ''}`}
                                >
                                    <i className={`ph ${tab.icon} text-lg`}></i> {tab.label}
                                </button>
                            ))}
                        </div>

                        <div className="flex-1 relative overflow-y-auto custom-scroll p-6 md:p-8">
                            
                            {/* --- Scenario 1: Camera Mode --- */}
                            {activeTab !== 'learn' && (
                                <div className="min-h-full flex flex-col items-center justify-center fade-in">
                                    <h2 className="text-red-200 font-bold uppercase tracking-[0.2em] text-xs mb-4">Identify Location</h2>
                                    <div className="bg-blue-900/30 text-blue-100 px-6 py-4 rounded-2xl border border-blue-500/20 inline-block font-medium shadow-lg w-full max-w-sm text-center mb-10">
                                        <i className="ph ph-aperture mr-2 align-middle"></i> "Adjust focus to reveal the landmark."
                                    </div>

                                    <div className="w-full max-w-sm mb-8 relative group">
                                        <div className="flex justify-between text-xs text-slate-400 mb-3 font-mono tracking-widest">
                                            <span>BLUR</span><span>SHARP</span>
                                        </div>
                                        <input 
                                            type="range" min="0" max="100" value={focusVal} 
                                            onChange={(e) => handleFocusChange(parseInt(e.target.value))}
                                            className="w-full h-2 rounded-lg appearance-none cursor-pointer bg-slate-700"
                                        />
                                    </div>

                                    {isUnlocked && (
                                        <div className="w-full fade-in animate-[slideUp_0.5s]">
                                            <div className="bg-gradient-to-b from-white/10 to-white/5 p-6 rounded-3xl border border-white/10 text-left shadow-2xl relative overflow-hidden w-full">
                                                <h3 className="text-red-400 font-bold uppercase tracking-widest text-xs mb-2">Featured Spot</h3>
                                                <h2 className="text-2xl font-black text-white mb-2">{DATA[activeTab].title}</h2>
                                                <p className="serif text-lg text-blue-100 mb-3 leading-relaxed">"{DATA[activeTab].desc_en}"</p>
                                                <p className="text-slate-400 text-sm mb-4 leading-relaxed">{DATA[activeTab].desc_cn}</p>
                                                <div className="text-right">
                                                    <button onClick={() => speak(DATA[activeTab].desc_en)} className="px-4 py-2 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center text-white shadow-lg transition gap-2 ml-auto font-bold text-sm border border-white/10">
                                                        <i className="ph ph-speaker-high"></i> Listen
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}

                            {/* --- Scenario 2: Learn Mode --- */}
                            {activeTab === 'learn' && (
                                <div className="min-h-full flex flex-col items-center fade-in gap-8">
                                    
                                    {/* Spelling Section */}
                                    <MappingInterface 
                                        word={DATA.spelling.word}
                                        sounds={DATA.spelling.sounds}
                                        hint={DATA.spelling.hint}
                                    />

                                    {/* Fact Cards */}
                                    <div className="w-full flex flex-col gap-4">
                                        <div className="bg-slate-800/50 p-5 rounded-2xl border border-white/5 hover:border-red-500/50 transition-all">
                                            <div className="flex items-center gap-3 mb-2">
                                                <i className="ph ph-bird text-2xl text-red-400"></i>
                                                <h4 className="text-lg font-bold text-white">{DATA.culture.fact1_title}</h4>
                                            </div>
                                            <p className="text-sm text-slate-300 mb-2">{DATA.culture.fact1_en}</p>
                                            <p className="text-xs text-slate-500 mb-2">{DATA.culture.fact1_cn}</p>
                                            <button onClick={() => speak(DATA.culture.fact1_en)} className="text-xs font-bold text-red-400 hover:text-white flex items-center gap-1 transition">
                                                <i className="ph ph-speaker-high"></i> Listen
                                            </button>
                                        </div>

                                        <div className="bg-slate-800/50 p-5 rounded-2xl border border-white/5 hover:border-blue-500/50 transition-all">
                                            <div className="flex items-center gap-3 mb-2">
                                                <i className="ph ph-star text-2xl text-blue-400"></i>
                                                <h4 className="text-lg font-bold text-white">{DATA.culture.fact2_title}</h4>
                                            </div>
                                            <p className="text-sm text-slate-300 mb-2">{DATA.culture.fact2_en}</p>
                                            <p className="text-xs text-slate-500 mb-2">{DATA.culture.fact2_cn}</p>
                                            <button onClick={() => speak(DATA.culture.fact2_en)} className="text-xs font-bold text-blue-400 hover:text-white flex items-center gap-1 transition">
                                                <i className="ph ph-speaker-high"></i> Listen
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        };

        // --- Sound Box Component ---
        const MappingInterface = ({ word, sounds, hint }) => {
            const [inputs, setInputs] = useState(Array(sounds.length).fill(""));
            const [status, setStatus] = useState("idle");
            const inputsRef = useRef([]);

            const handleChange = (val, i) => {
                const maxLen = sounds[i].char.length;
                const newInputs = [...inputs];
                let nextVal = val.toLowerCase();
                if (nextVal.length <= maxLen) {
                    newInputs[i] = nextVal;
                    setInputs(newInputs);
                    setStatus("idle");
                    if (nextVal.length === maxLen && i < sounds.length - 1) inputsRef.current[i + 1].focus();
                }
            };

            const handleKeyDown = (e, i) => {
                if (e.key === "Backspace" && !inputs[i] && i > 0) inputsRef.current[i - 1].focus();
            };

            const check = () => {
                const isCorrect = inputs.every((val, i) => val === sounds[i].char.toLowerCase());
                setStatus(isCorrect ? "correct" : "wrong");
                if (isCorrect) speak(`Correct! ${word}.`);
                else speak("Try again.");
            };

            return (
                <div className="w-full flex flex-col items-center">
                    <h2 className="text-red-200 font-bold uppercase tracking-[0.2em] text-xs mb-4">Sound Mapping</h2>
                    <button onClick={() => speak(word)} className="w-16 h-16 rounded-full bg-red-600 hover:bg-red-500 text-white flex items-center justify-center shadow-lg mb-4 transition animate-bounce">
                        <i className="ph ph-speaker-high text-3xl"></i>
                    </button>
                    <p className="text-slate-300 mb-6 font-mono text-center text-sm">{hint}</p>
                    
                    <div className="flex flex-wrap justify-center gap-2 mb-6 max-w-full items-end">
                        {sounds.map((sound, i) => (
                            <div key={i} className="flex flex-col items-center">
                                <input
                                    ref={el => inputsRef.current[i] = el}
                                    type="text"
                                    value={inputs[i]}
                                    maxLength={sound.char.length}
                                    onChange={(e) => handleChange(e.target.value, i)}
                                    onKeyDown={(e) => handleKeyDown(e, i)}
                                    className={`${sound.w} h-12 md:h-14 rounded-xl border-4 text-center text-xl md:text-2xl font-bold mono focus:outline-none focus:-translate-y-1 transition shadow-sm
                                        ${status === 'correct' ? 'border-green-400 bg-green-50 text-green-700' : 
                                          status === 'wrong' ? 'border-red-400 bg-red-50 text-red-700' : 
                                          'border-slate-200 bg-white text-slate-800 focus:border-red-400'}`}
                                />
                            </div>
                        ))}
                    </div>

                    <button onClick={check} className="px-8 py-3 bg-blue-600 text-white rounded-full font-bold shadow-xl hover:bg-blue-500 transition active:scale-95 flex items-center gap-2 text-sm border border-white/10">
                        Check <i className="ph ph-check-circle text-lg"></i>
                    </button>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>