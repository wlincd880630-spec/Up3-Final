<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore: Atlantic Ocean (Pro V3)</title>
    
    <script src="https://cdn.staticfile.net/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.staticfile.net/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.staticfile.net/babel-standalone/7.22.17/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle-min.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Noto+Serif:ital,wght@0,500;1,500&display=swap" rel="stylesheet">

    <style>
        /* ÂÖ®Â±ÄËÆæÁΩÆ */
        * { -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Outfit', sans-serif; 
            color: #f8fafc; 
            /* Ê∑±Êµ∑ÊûÅÂÖâËÉåÊôØ */
            background: linear-gradient(180deg, #020617, #0f172a, #1e3a8a, #172554);
            background-size: 400% 400%;
            animation: oceanFlow 30s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        @keyframes oceanFlow { 0% { background-position: 0% 0%; } 50% { background-position: 100% 100%; } 100% { background-position: 0% 0%; } }
        
        .serif { font-family: 'Noto Serif', serif; }

        /* ‰∏ªÂÆπÂô® */
        .app-container {
            width: 95vw;
            max-width: 1400px;
            height: 90vh;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 32px;
            box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: row;
            overflow: hidden;
            position: relative;
        }
        
        /* ÁßªÂä®Á´ØÈÄÇÈÖç */
        @media (max-width: 768px) {
            .app-container { flex-direction: column; height: 100vh; width: 100vw; border-radius: 0; }
        }

        /* Âä®Áîª */
        .fade-in { animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* ÊªöÂä®Êù°ÁæéÂåñ */
        .custom-scroll { overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.2) transparent; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.4); }

        /* Ëá™ÂÆö‰πâÊªëÂùó */
        input[type=range] {
            -webkit-appearance: none; width: 100%; background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 28px; width: 28px; border-radius: 50%;
            background: #38bdf8; border: 4px solid white; cursor: pointer; margin-top: -12px;
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.6); transition: transform 0.1s;
        }
        input[type=range]::-webkit-slider-thumb:active { transform: scale(1.2); }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; cursor: pointer; 
            background: rgba(255,255,255,0.2); border-radius: 10px;
        }

        /* ËøîÂõûÊåâÈíÆ */
        .nav-back { 
            position: absolute; top: 24px; left: 24px; z-index: 50; 
            background: rgba(0,0,0,0.6); color: white; 
            padding: 10px 20px; border-radius: 99px; text-decoration: none; 
            backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.2); 
            font-weight: 600; font-size: 1rem;
            transition: all 0.2s; display: flex; align-items: center; gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .nav-back:hover { background: rgba(0,0,0,0.8); transform: scale(1.05); }
    </style>
</head>
<body>
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // üîπ Azure ËØ≠Èü≥ÈÖçÁΩÆ
        // ==========================================
        const azureKey = "DKRXk8ueSfo5NdIOMqFRTCAfpeGDezJ3Snf5K8gGgtyqxiWdugLzJQQJ99BLACHYHv6XJ3w3AAAYACOGUYP9";
        const azureRegion = "eastus2"; 
        
        let currentSynthesizer = null;

        const speak = (text) => {
            if (currentSynthesizer) { currentSynthesizer.close(); currentSynthesizer = null; }
            if (!text) return;
            
            try {
                const speechConfig = SpeechSDK.SpeechConfig.fromSubscription(azureKey, azureRegion);
                speechConfig.speechSynthesisVoiceName = "en-US-JennyNeural"; 
                const audioConfig = SpeechSDK.AudioConfig.fromDefaultSpeakerOutput();
                const synthesizer = new SpeechSDK.SpeechSynthesizer(speechConfig, audioConfig);
                currentSynthesizer = synthesizer;
                
                synthesizer.speakTextAsync(text, result => {
                    synthesizer.close(); currentSynthesizer = null;
                }, err => { console.error(err); synthesizer.close(); currentSynthesizer = null; });
            } catch (e) { console.error("Azure Error", e); }
        };

        // ==========================================
        // üîπ ÂÜÖÂÆπÊâ©ÂÖÖ
        // ==========================================
        const CONTENT = {
            title: "The Atlantic Ocean",
            intro: "Let's adjust the camera focus to explore the ocean.",
            text_en: "The Atlantic Ocean is the second-largest ocean in the world, separating the Americas from Europe and Africa. Named after the Greek Titan 'Atlas', it covers approximately 20% of Earth's surface. It is known for its strong waves and the massive Mid-Atlantic Ridge hidden beneath its waters.",
            text_cn: "Â§ßË•øÊ¥ãÊòØ‰∏ñÁïåÁ¨¨‰∫åÂ§ßÊ¥ãÔºåÂ∞ÜÁæéÊ¥≤‰∏éÊ¨ßÊ¥≤„ÄÅÈùûÊ¥≤ÈöîÂºÄ„ÄÇÂÆÉÂæóÂêç‰∫éÂ∏åËÖäÊ≥∞Âù¶Á•û‚ÄúÈòøÁâπÊãâÊñØ‚ÄùÔºåË¶ÜÁõñ‰∫ÜÂú∞ÁêÉË°®Èù¢Á∫¶20%ÁöÑÈù¢ÁßØ„ÄÇÂ§ßË•øÊ¥ã‰ª•ÂÖ∂Ê±πÊ∂åÁöÑÊ≥¢Ê∂õÂíåÈöêËóèÂú®Ê∞¥‰∏ãÁöÑÂ∑®Â§ß‚ÄúÂ§ßË•øÊ¥ã‰∏≠Ê¥ãËÑä‚ÄùÂ±±ËÑâËÄåÈóªÂêç„ÄÇ",
            success_msg: "Focus locked! Target acquired."
        };

        // ==========================================
        // üîπ ÁªÑ‰ª∂Âå∫Âüü
        // ==========================================

        const App = () => {
            const [focusVal, setFocusVal] = useState(0);
            const [isUnlocked, setIsUnlocked] = useState(false);
            const [showDetails, setShowDetails] = useState(false);

            useEffect(() => {
                setTimeout(() => speak(CONTENT.intro), 800);
            }, []);

            const handleSliderChange = (e) => {
                const val = parseInt(e.target.value);
                setFocusVal(val);
                if (val > 90 && !isUnlocked) {
                    setIsUnlocked(true);
                    speak(CONTENT.success_msg);
                    setTimeout(() => setShowDetails(true), 1500);
                }
            };

            const blurAmount = Math.max(0, 30 - (focusVal / 3.3));

            return (
                <div className="app-container fade-in">
                    
                    {/* 1. Â∑¶‰æßÔºöÁõ∏Êú∫ÂèñÊôØÂô® */}
                    <div className="flex-1 md:flex-[1.8] relative bg-black overflow-hidden border-b-4 md:border-b-0 md:border-r-4 border-slate-700/50 group h-[40vh] md:h-auto">
                        <a href="FU303Main.html" className="nav-back">
                            <i className="ph ph-arrow-u-up-left text-xl"></i> Back to Map
                        </a>
                        <div className="w-full h-full overflow-hidden">
                            <img 
                                src="atlantic_ocean.jpg" 
                                className="w-full h-full object-cover transition-all duration-300 transform scale-110"
                                style={{ 
                                    filter: `blur(${blurAmount}px) brightness(${0.5 + (focusVal/200)})`,
                                    transform: `scale(${1.1 - (focusVal/1000)})` 
                                }}
                                onError={(e) => e.target.src = 'https://placehold.co/1200x800/0c4a6e/ffffff?text=Atlantic+Ocean'}
                            />
                        </div>
                        <div className="absolute inset-0 pointer-events-none p-8 flex flex-col justify-between z-10">
                            <div className="flex justify-between items-start">
                                <div className="text-red-500 font-mono font-bold animate-pulse flex items-center gap-3 bg-black/40 px-3 py-1 rounded backdrop-blur-sm">
                                    <div className="w-3 h-3 bg-red-500 rounded-full shadow-[0_0_10px_red]"></div> REC
                                </div>
                                <div className="text-white/80 font-mono text-sm flex flex-col items-end gap-1">
                                    <span>ISO 800</span>
                                    <span className="text-yellow-400">AF-C</span>
                                </div>
                            </div>
                            <div className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ${isUnlocked ? 'w-full h-full border-4 border-green-500/50' : 'w-64 h-48 border-2 border-white/30'}`}>
                                {!isUnlocked && (
                                    <>
                                        <div className="absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-white"></div>
                                        <div className="absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-white"></div>
                                        <div className="absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-white"></div>
                                        <div className="absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-white"></div>
                                        <div className="w-2 h-2 bg-white/50 rounded-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
                                    </>
                                )}
                                {isUnlocked && <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-green-400 font-black tracking-widest text-2xl animate-ping opacity-50">LOCKED</div>}
                            </div>
                            <div className="flex justify-between items-end text-white/60 font-mono text-sm">
                                <div>24mm f/1.4</div>
                                <div className={`${focusVal > 90 ? 'text-green-400 font-bold' : 'text-white'}`}>FOCUS: {focusVal}%</div>
                            </div>
                        </div>
                    </div>

                    {/* 2. Âè≥‰æßÔºöÊéßÂà∂Èù¢Êùø (ÂÖ≥ÈîÆ‰øÆÂ§çÔºöFlexÂ∏ÉÂ±Ä + ÊªöÂä®ÂÆπÂô®) */}
                    <div className="flex-1 bg-slate-900/60 backdrop-blur-3xl border-l border-white/5 relative flex flex-col h-[60vh] md:h-auto overflow-hidden">
                        
                        {/* ÂÜÖÈÉ®ÊªöÂä®ÂÆπÂô® */}
                        <div className="absolute inset-0 overflow-y-auto custom-scroll p-8 md:p-12">
                            
                            {/* ÂºπÊÄßÂûÇÁõ¥Â±Ö‰∏≠Â∏ÉÂ±Ä */}
                            <div className="min-h-full flex flex-col items-center justify-center text-center">
                                
                                <div className="mb-10 w-full">
                                    <h2 className="text-slate-400 font-bold uppercase tracking-[0.2em] text-xs mb-4">Interactive Challenge</h2>
                                    <div className="bg-blue-500/10 text-blue-200 px-6 py-4 rounded-2xl border border-blue-500/20 inline-block font-medium shadow-lg w-full max-w-sm">
                                        <i className="ph ph-aperture mr-2 align-middle"></i> "Adjust focus to clear the image."
                                    </div>
                                </div>

                                <div className="w-full max-w-sm mb-12 relative group">
                                    <div className="flex justify-between text-xs text-slate-400 mb-3 font-mono tracking-widest">
                                        <span>BLUR</span><span>SHARP</span>
                                    </div>
                                    <input 
                                        type="range" min="0" max="100" value={focusVal} onChange={handleSliderChange} disabled={isUnlocked}
                                        className={`w-full h-2 rounded-lg appearance-none cursor-pointer transition-all ${isUnlocked ? 'bg-green-500/50' : 'bg-slate-700 group-hover:bg-slate-600'}`}
                                    />
                                    {isUnlocked && <div className="absolute -right-8 top-4 text-green-400"><i className="ph ph-check-circle text-2xl"></i></div>}
                                </div>

                                {isUnlocked ? (
                                    <div className="w-full fade-in flex flex-col items-center">
                                        <div className="mb-6">
                                            <h1 className="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-200 via-white to-teal-200 mb-4 drop-shadow-sm">
                                                {CONTENT.title}
                                            </h1>
                                            <button onClick={() => speak(CONTENT.title)} className="p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 text-blue-300 hover:text-white transition">
                                                <i className="ph ph-speaker-high text-2xl"></i>
                                            </button>
                                        </div>

                                        <div className="bg-gradient-to-b from-white/10 to-white/5 p-8 rounded-3xl border border-white/10 text-left shadow-2xl relative overflow-hidden group hover:border-white/20 transition-all w-full max-w-lg">
                                            <div className="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition"><i className="ph ph-waves text-8xl"></i></div>
                                            <p className="serif text-lg md:text-xl text-blue-50 mb-6 leading-relaxed relative z-10">"{CONTENT.text_en}"</p>
                                            <div className="h-px w-full bg-white/10 my-4"></div>
                                            <p className="text-slate-400 text-sm mb-6 leading-relaxed">{CONTENT.text_cn}</p>
                                            <div className="text-right">
                                                <button onClick={() => speak(CONTENT.text_en)} className="px-6 py-3 rounded-full bg-blue-600 hover:bg-blue-500 flex items-center justify-center text-white shadow-lg shadow-blue-900/50 transition gap-2 ml-auto font-bold w-full md:w-auto">
                                                    <i className="ph ph-speaker-high text-xl"></i> Read Full Text
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    <div className="text-slate-500 flex flex-col items-center gap-3 mt-4 opacity-60">
                                        <i className="ph ph-lock-key-open text-5xl"></i>
                                        <span className="text-sm font-mono tracking-widest uppercase">Locked content</span>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>